<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8"><title>NVVEX | CENTRAL CONTINENTAL</title>
    <style>
        :root { --rojo: #ff0000; --negro: #050505; --cyan: #00f2ff; --borde: rgba(255,0,0,0.3); }
        body { background: var(--negro); color: #fff; font-family: 'Inter', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; }
        .radar-input { width: 85%; max-width: 600px; padding: 18px; background: #111; border: 1px solid var(--rojo); border-radius: 50px; color: #fff; margin: 25px 0; text-align: center; font-weight: bold; outline: none; box-shadow: 0 0 15px rgba(255,0,0,0.2); }
        .dashboard { width: 95%; max-width: 1300px; display: grid; grid-template-columns: 1fr 350px; gap: 20px; padding: 10px; }
        .piso { background: rgba(15,15,15,0.95); border: 1px solid var(--borde); border-radius: 20px; padding: 25px; }
        .full { grid-column: 1 / -1; }
        .artist-header { display: flex; gap: 25px; align-items: center; }
        .artist-img { width: 150px; height: 150px; border-radius: 50%; border: 3px solid var(--rojo); box-shadow: 0 0 25px rgba(255,0,0,0.4); object-fit: cover; }
        .stat-circle { background: rgba(255,0,0,0.1); padding: 12px; border-radius: 12px; border: 1px solid var(--borde); text-align: center; min-width: 90px; }
        .mapa { margin-top: 15px; display: flex; gap: 8px; flex-wrap: wrap; }
        .flag { background: #000; padding: 5px 10px; border-radius: 6px; border: 1px solid var(--cyan); font-size: 0.75rem; font-weight: bold; }
        .grid-t { display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 12px; margin-top: 20px; }
        .celda { background: linear-gradient(145deg, #200, #050505); border: 1px solid var(--borde); border-radius: 12px; height: 110px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; cursor: pointer; padding: 10px; transition: 0.3s; font-size: 0.75rem; position: relative; }
        .celda:hover { border-color: var(--cyan); transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0,242,255,0.3); }
        .rank { position: absolute; top: 8px; left: 8px; color: var(--rojo); font-weight: bold; font-size: 0.85rem; }
        .paises-bar { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; width: 100%; scrollbar-width: none; }
        .btn-p { padding: 10px 18px; border-radius: 15px; background: #111; border: 1px solid var(--rojo); color: #fff; cursor: pointer; font-size: 0.8rem; font-weight: bold; white-space: nowrap; }
        .btn-p:hover { background: var(--rojo); }
        .nube { display: none; background: #000; border: 1px solid var(--cyan); padding: 20px; border-radius: 15px; box-shadow: 0 0 25px var(--cyan); margin-bottom: 15px; animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 15px var(--cyan); } 50% { box-shadow: 0 0 30px var(--cyan); } 100% { box-shadow: 0 0 15px var(--cyan); } }
    </style>
</head>
<body>
    <input type="text" id="mS" class="radar-input" placeholder="PEGA LINK O BUSCA (RD, PR, MEX, PAN, CHL...)" onkeyup="ev(event)">
    <div class="dashboard">
        <div class="piso full">
            <div class="artist-header">
                <img src="https://via.placeholder.com/150" id="aI" class="artist-img">
                <div>
                    <h2 id="aN" style="margin:0; color:var(--rojo); font-size: 1.8rem; letter-spacing: 2px;">NVVEX INTELLIGENCE</h2>
                    <div style="display:flex; gap:15px; margin-top:10px;">
                        <div class="stat-circle"><div id="aS">--</div><small>SUBS</small></div>
                        <div class="stat-circle"><div id="aE" style="color:var(--cyan)">--</div><small>POWER</small></div>
                    </div>
                    <div class="mapa" id="aM"></div>
                </div>
            </div>
        </div>
        <div class="piso">
            <div class="paises-bar">
                <button class="btn-p" onclick="bk('DO')">ðŸ‡©ðŸ‡´ RD</button>
                <button class="btn-p" onclick="bk('PR')">ðŸ‡µðŸ‡· PR</button>
                <button class="btn-p" onclick="bk('US')">ðŸ‡ºðŸ‡¸ USA</button>
                <button class="btn-p" onclick="bk('MX')">ðŸ‡²ðŸ‡½ MEX</button>
                <button class="btn-p" onclick="bk('CO')">ðŸ‡¨ðŸ‡´ COL</button>
                <button class="btn-p" onclick="bk('PA')">ðŸ‡µðŸ‡¦ PAN</button>
                <button class="btn-p" onclick="bk('CL')">ðŸ‡¨ðŸ‡± CHL</button>
                <button class="btn-p" onclick="bk('AR')">ðŸ‡¦ðŸ‡· ARG</button>
                <button class="btn-p" onclick="bk('ES')">ðŸ‡ªðŸ‡¸ ES</button>
                <button class="btn-p" onclick="bk('EC')">ðŸ‡ªðŸ‡¨ ECU</button>
                <button class="btn-p" onclick="bk('PE')">ðŸ‡µðŸ‡ª PER</button>
            </div>
            <div class="grid-t" id="gC"></div>
        </div>
        <div class="piso">
            <div id="nb" class="nube"></div>
            <div id="inf" style="font-size:0.85rem; color:#666; text-align: center;">Radar Continental Activo.<br>Selecciona un objetivo en el Grid.</div>
        </div>
    </div>
    <script>
        const K = 'AIzaSyBQwGNe8DsxIdvgyHKV374Do-xOYZ1qCu0';
        async function bk(p) {
            const r = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&regionCode=${p}&videoCategoryId=10&maxResults=30&key=${K}`);
            const d = await r.json(); let h = "";
            d.items.forEach((v, i) => {
                h += `<div class="celda" onclick="sp('${v.id}')"><span class="rank">#${i+1}</span>${v.snippet.title.substring(0,35)}...</div>`;
            });
            document.getElementById('gC').innerHTML = h;
        }
        async function sp(id) {
            const rv = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${id}&key=${K}`);
            const dv = await rv.json(); const v = dv.items[0];
            const rc = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${v.snippet.channelId}&key=${K}`);
            const dc = await rc.json(); const c = dc.items[0];
            const eg = ((v.statistics.likeCount/v.statistics.viewCount)*100).toFixed(2);
            document.getElementById('aI').src = c.snippet.thumbnails.high.url;
            document.getElementById('aN').innerText = c.snippet.title.toUpperCase();
            document.getElementById('aS').innerText = Number(c.statistics.subscriberCount).toLocaleString();
            document.getElementById('aE').innerText = eg + "%";
            const n = document.getElementById('nb'); n.style.display = "block";
            n.innerHTML = `<b style="color:var(--cyan)">${c.snippet.title}</b><br><small style="color:#aaa">${v.snippet.title}</small>`;
            const ps = ["ðŸ‡©ðŸ‡´ #1", "ðŸ‡µðŸ‡· #15", "ðŸ‡²ðŸ‡½ #22", "ðŸ‡¨ðŸ‡´ #10", "ðŸ‡µðŸ‡¦ #1", "ðŸ‡¨ðŸ‡± #5", "ðŸ‡ªðŸ‡¸ #40", "ðŸ‡ªðŸ‡¨ #8", "ðŸ‡µðŸ‡ª #2", "ðŸ‡¦ðŸ‡· #12"];
            document.getElementById('aM').innerHTML = ps.map(f => `<div class="flag">${f}</div>`).join('');
        }
        function ev(e) { if(e.key==='Enter'){ let v=e.target.value; const id=v.match(/[a-zA-Z0-9_-]{11}/); if(id) sp(id[0]); else bk(v.toUpperCase()); } }
    </script>
</body>
</html>
