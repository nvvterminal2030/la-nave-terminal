<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NVVEX | CENTRAL TOTAL LATAM</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root { --morado: #a855f7; --glow: rgba(168, 85, 247, 0.6); --negro: #050505; --borde: rgba(168, 85, 247, 0.2); --cyan: #00f2ff; --exito: #22c55e; }
        body { background: var(--negro); color: #e5e7eb; font-family: 'Inter', sans-serif; margin: 0; display: flex; flex-direction: column; align-items: center; overflow-x: hidden; }
        .piso-entrada { height: 35vh; display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; background: radial-gradient(circle, #1e0b3a 0%, var(--negro) 80%); }
        .logo-nvvex { font-size: 1.2rem; font-weight: 700; letter-spacing: 6px; color: var(--morado); text-shadow: 0 0 15px var(--glow); text-transform: uppercase; margin-bottom: 25px; }
        .main-input { width: 85%; max-width: 600px; padding: 18px 25px; background: rgba(255,255,255,0.03); border: 1px solid var(--borde); border-radius: 50px; color: white; text-align: center; backdrop-filter: blur(10px); outline: none; }
        .dashboard-container { width: 92%; max-width: 1100px; display: flex; flex-direction: column; gap: 40px; padding-bottom: 80px; }
        .piso { background: rgba(255,255,255,0.02); border: 1px solid var(--borde); border-radius: 30px; padding: 25px; backdrop-filter: blur(10px); }
        .piso-header h2 { font-size: 0.75rem; letter-spacing: 2px; color: var(--morado); text-transform: uppercase; margin-bottom: 20px; border-bottom: 1px solid var(--borde); padding-bottom: 8px; }
        .artist-grid { display: grid; grid-template-columns: 240px 1fr; gap: 25px; }
        .artist-img { width: 200px; height: 200px; border-radius: 50%; border: 3px solid var(--morado); box-shadow: 0 0 30px var(--glow); object-fit: cover; }
        .circle { width: 75px; height: 75px; border-radius: 50%; border: 1px solid var(--morado); display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 0.8rem; font-weight: bold; background: rgba(168, 85, 247, 0.05); }
        .nube-track { background: rgba(255,255,255,0.03); padding: 10px 15px; border-radius: 12px; border: 1px solid var(--borde); margin-bottom: 8px; display: flex; justify-content: space-between; font-size: 0.8rem; cursor: pointer; transition: 0.3s; }
        .nube-track:hover { border-color: var(--cyan); background: rgba(0, 242, 255, 0.05); }
        .countries-scroll { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; width: 100%; scrollbar-width: none; }
        .country-pill { padding: 10px 20px; border-radius: 50px; background: rgba(255,255,255,0.03); border: 1px solid var(--borde); cursor: pointer; white-space: nowrap; font-size: 0.8rem; color: white; transition: 0.3s; }
        .country-pill:hover { background: var(--morado); box-shadow: 0 0 15px var(--glow); }
        .yt-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
        .yt-card { background: rgba(0,0,0,0.4); border-radius: 15px; overflow: hidden; border: 1px solid var(--borde); cursor: pointer; transition: 0.3s; }
        .yt-card:hover { transform: translateY(-5px); border-color: var(--cyan); }
        .yt-thumb { width: 100%; height: 110px; background-size: cover; background-position: center; }
        .yt-info { padding: 10px; font-size: 0.7rem; }
        .nubecita { display: none; background: linear-gradient(90deg, #1e0b3a, #050505); border: 1px solid var(--cyan); border-radius: 15px; padding: 15px; margin-bottom: 20px; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>
    <section class="piso-entrada">
        <div class="logo-nvvex">NVVEX STUDIOS</div>
        <input type="text" id="masterSearch" class="main-input" placeholder="PEGA LINK O BUSCA PAÃS (RD, PR, MEX, PAN...)" onkeyup="evaluar(event)">
    </section>
    <div class="dashboard-container">
        <div class="piso" id="p1">
            <div class="piso-header"><h2>01. Artista Intelligence</h2></div>
            <div class="artist-grid">
                <div style="text-align: center;">
                    <img src="https://via.placeholder.com/200" id="art-img" class="artist-img">
                    <div style="display:flex; gap:10px; justify-content:center; margin-top:15px;">
                        <div class="circle"><span id="art-eng">--</span><label style="font-size:0.5rem;">ENG.</label></div>
                        <div class="circle"><span id="art-rank">--</span><label style="font-size:0.5rem;">RANK</label></div>
                    </div>
                </div>
                <div>
                    <div class="nube-track"><span style="color:var(--cyan)">ARTISTA:</span> <b id="art-name">DESCONOCIDO</b></div>
                    <div class="nube-track"><span>TEMA:</span> <b id="art-song">--</b></div>
                    <div class="nube-track"><span>SUSCRIPTORES:</span> <b id="art-subs">--</b></div>
                    <div id="art-stats-extra" style="font-size: 0.7rem; color: #888; margin-top: 10px;">ESPERANDO DATA...</div>
                </div>
            </div>
        </div>
        <div class="piso">
            <div class="piso-header"><h2>03. Radar Visual Continental</h2></div>
            <div class="countries-scroll">
                <div class="country-pill" onclick="buscar('RD')">ðŸ‡©ðŸ‡´ RD</div>
                <div class="country-pill" onclick="buscar('PR')">ðŸ‡µðŸ‡· PR</div>
                <div class="country-pill" onclick="buscar('US')">ðŸ‡ºðŸ‡¸ USA</div>
                <div class="country-pill" onclick="buscar('MEX')">ðŸ‡²ðŸ‡½ MEX</div>
                <div class="country-pill" onclick="buscar('COL')">ðŸ‡¨ðŸ‡´ COL</div>
                <div class="country-pill" onclick="buscar('PAN')">ðŸ‡µðŸ‡¦ PAN</div>
                <div class="country-pill" onclick="buscar('CHL')">ðŸ‡¨ðŸ‡± CHL</div>
                <div class="country-pill" onclick="buscar('ARG')">ðŸ‡¦ðŸ‡· ARG</div>
                <div class="country-pill" onclick="buscar('ES')">ðŸ‡ªðŸ‡¸ ES</div>
                <div class="country-pill" onclick="buscar('ECU')">ðŸ‡ªðŸ‡¨ ECU</div>
                <div class="country-pill" onclick="buscar('PER')">ðŸ‡µðŸ‡ª PER</div>
                <div class="country-pill" onclick="buscar('GTM')">ðŸ‡¬ðŸ‡¹ GTM</div>
            </div>
            <div class="yt-grid" id="yt-container"></div>
        </div>
        <div class="piso">
            <div class="piso-header"><h2>04. Banca de Datos Inteligente</h2></div>
            <div id="nube" class="nubecita"></div>
            <div id="banca-content"></div>
        </div>
    </div>
    <script>
        const K = 'AIzaSyBQwGNe8DsxIdvgyHKV374Do-xOYZ1qCu0';
        async function buscar(s) {
            const cs = {'RD':'DO','PR':'PR','US':'US','ES':'ES','MEX':'MX','COL':'CO','ARG':'AR','PAN':'PA','CHL':'CL','ECU':'EC','PER':'PE','GTM':'GT'};
            const r = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&chart=mostPopular&regionCode=${cs[s]||'DO'}&videoCategoryId=10&maxResults=30&key=${K}`);
            const d = await r.json();
            let h = ""; let b = "";
            d.items.forEach((v, i) => {
                h += `<div class="yt-card" onclick="espiar('${v.id}')"><div class="yt-thumb" style="background-image:url('${v.snippet.thumbnails.high.url}')"></div><div class="yt-info">#${i+1} ${v.snippet.title.substring(0,25)}</div></div>`;
                b += `<div class="nube-track" onclick="espiar('${v.id}')"><span>#${i+1} ${v.snippet.channelTitle.substring(0,20)}</span><b>${Number(v.statistics.viewCount).toLocaleString()}</b></div>`;
            });
            document.getElementById('yt-container').innerHTML = h;
            document.getElementById('banca-content').innerHTML = b;
        }
        async function espiar(id) {
            const rv = await fetch(`https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&id=${id}&key=${K}`);
            const dv = await rv.json(); const v = dv.items[0];
            const rc = await fetch(`https://www.googleapis.com/youtube/v3/channels?part=snippet,statistics&id=${v.snippet.channelId}&key=${K}`);
            const dc = await rc.json(); const c = dc.items[0];
            const eng = ((v.statistics.likeCount/v.statistics.viewCount)*100).toFixed(2);
            document.getElementById('art-img').src = c.snippet.thumbnails.high.url;
            document.getElementById('art-name').innerText = c.snippet.title.toUpperCase();
            document.getElementById('art-song').innerText = v.snippet.title.substring(0,40);
            document.getElementById('art-subs').innerText = Number(c.statistics.subscriberCount).toLocaleString();
            document.getElementById('art-eng').innerText = eng + "%";
            const n = document.getElementById('nube');
            n.style.display = "block";
            n.innerHTML = `<div style="display:flex; justify-content:space-between; align-items:center;">
                <div style="color:var(--cyan); font-size:0.85rem;">IDENTIDAD CONFIRMADA: <b>${c.snippet.title}</b></div>
                <div style="color:var(--exito); font-size:0.85rem;">ENGAGEMENT: <b>${eng}%</b></div>
            </div>`;
        }
        function evaluar(e) { if(e.key==='Enter'){ let v=e.target.value; const id=v.match(/[a-zA-Z0-9_-]{11}/); if(id) espiar(id[0]); else buscar(v.toUpperCase()); } }
    </script>
</body>
</html>
